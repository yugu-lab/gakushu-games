<!doctype html>
<html lang="ja">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Êº¢Â≠ó„ÉÜ„Çπ„ÉàÂãâÂº∑„Ç¢„Éó„É™</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', 'Meiryo', sans-serif;
      height: 100%;
    }
    html {
      height: 100%;
    }
    .app-wrapper {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100%;
      width: 100%;
      padding: 2rem;
      overflow-auto;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    h1 {
      color: white;
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    .selection-screen {
      background: white;
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 12px 24px rgba(0,0,0,0.15);
      text-align: center;
    }
    .selection-screen h2 {
      color: #1f2937;
      font-size: 1.8rem;
      margin-bottom: 2rem;
    }
    .number-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
      margin-top: 2rem;
    }
    .number-button {
      background: #667eea;
      color: white;
      border: none;
      padding: 2rem 1.5rem;
      border-radius: 16px;
      font-size: 2rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
    .number-button:hover {
      background: #5568d3;
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    }
    .number-button:active {
      transform: translateY(-2px);
    }
    .number-button span {
      display: block;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      opacity: 0.9;
    }
    .quiz-screen {
      display: none;
    }
    .quiz-screen.active {
      display: block;
    }
    .progress-bar {
      background: rgba(255,255,255,0.3);
      border-radius: 20px;
      height: 12px;
      margin-bottom: 2rem;
      overflow: hidden;
    }
    .progress-fill {
      background: white;
      height: 100%;
      border-radius: 20px;
      transition: width 0.3s ease;
      box-shadow: 0 2px 8px rgba(255,255,255,0.3);
    }
    .progress-text {
      color: white;
      text-align: center;
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    .question-card {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }
    .question-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15);
    }
    .question-number {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: bold;
      margin-bottom: 1rem;
      font-size: 1rem;
    }
    .question-type {
      display: inline-block;
      background: #fbbf24;
      color: #78350f;
      padding: 0.3rem 0.8rem;
      border-radius: 12px;
      font-size: 0.85rem;
      margin-left: 0.5rem;
      font-weight: 600;
    }
    .question-text {
      font-size: 1.5rem;
      line-height: 2;
      margin: 1.5rem 0;
      color: #1f2937;
    }
    .hiragana {
      color: #ef4444;
      font-weight: bold;
      text-decoration: underline;
      text-decoration-style: wavy;
      text-decoration-color: #fca5a5;
    }
    .answer-section {
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 2px dashed #e5e7eb;
    }
    .answer-content {
      display: none;
      background: #f0fdf4;
      border-left: 4px solid #10b981;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin-top: 1rem;
    }
    .answer-content.show {
      display: block;
      animation: slideDown 0.3s ease-out;
    }
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .answer-label {
      color: #059669;
      font-weight: bold;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }
    .answer-text {
      font-size: 1.8rem;
      color: #065f46;
      font-weight: bold;
      margin: 0.5rem 0;
    }
    .reading {
      font-size: 1rem;
      color: #6b7280;
      margin-top: 0.3rem;
    }
    .check-button {
      background: #667eea;
      color: white;
      border: none;
      padding: 0.75rem 2rem;
      border-radius: 24px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 6px rgba(102, 126, 234, 0.3);
    }
    .check-button:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(102, 126, 234, 0.4);
    }
    .check-button:active {
      transform: translateY(0);
    }
    .note-hint {
      background: #fef3c7;
      border-left: 4px solid #fbbf24;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      font-size: 0.95rem;
      color: #78350f;
    }
    .note-hint strong {
      color: #92400e;
    }
    .reset-button {
      background: white;
      color: #667eea;
      border: 2px solid white;
      padding: 0.75rem 2rem;
      border-radius: 24px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      display: block;
      margin: 2rem auto 0;
      box-shadow: 0 4px 12px rgba(255,255,255,0.3);
    }
    .reset-button:hover {
      background: rgba(255,255,255,0.9);
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(255,255,255,0.4);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-wrapper">
   <div class="container">
    <h1 id="app-title">Êº¢Â≠ó„ÉÜ„Çπ„ÉàÂãâÂº∑„Ç¢„Éó„É™</h1>
    <div id="selection-screen" class="selection-screen">
     <h2>‰ΩïÂïèËß£„Åç„Åæ„Åô„ÅãÔºü</h2>
     <div class="number-buttons"><button class="number-button" onclick="startQuiz(5)"> 5<span>Âïè</span> </button> <button class="number-button" onclick="startQuiz(10)"> 10<span>Âïè</span> </button> <button class="number-button" onclick="startQuiz(15)"> 15<span>Âïè</span> </button> <button class="number-button" onclick="startQuiz(20)"> 20<span>Âïè</span> </button>
     </div>
    </div>
    <div id="quiz-screen" class="quiz-screen">
     <div class="progress-text" id="progress-text">
      Á¢∫Ë™çÊ∏à„Åø 0 / 5
     </div>
     <div class="progress-bar">
      <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
     </div>
     <div id="questions-container"></div><button class="reset-button" onclick="resetQuiz()">ÊúÄÂàù„Å´Êàª„Çã</button>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      app_title: "Êº¢Â≠ó„ÉÜ„Çπ„ÉàÂãâÂº∑„Ç¢„Éó„É™",
      check_button_text: "Ê≠£Ëß£„ÇíË¶ã„Çã",
      primary_color: "#667eea",
      secondary_color: "#764ba2",
      accent_color: "#fbbf24",
      text_color: "#1f2937",
      success_color: "#10b981"
    };

    // ÂïèÈ°å„Éá„Éº„Çø„Éô„Éº„ÇπÔºà125ÂïèÔºâ
    const questionBank = [
      { type: "‰æãÊñá", hiragana: "„Åà„Çã", kanji: "Âæó„Çã", reading: "„Åà„Çã", before: "Âä™Âäõ„Åó„Å¶‰ø°È†º„Çí", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å®„Åè„ÅÑ", kanji: "ÂæóÊÑè", reading: "„Å®„Åè„ÅÑ", before: "ÂΩº„ÅØÁÆóÊï∞„Åå", after: "„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åã„Åè„Å®„Åè", kanji: "Áç≤Âæó", reading: "„Åã„Åè„Å®„Åè", before: "ÁõÆÊ®ô„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åè„Çâ„Åπ„Çã", kanji: "ÊØî„Åπ„Çã", reading: "„Åè„Çâ„Åπ„Çã", before: "ÂÖÑ„Å®Ëá™ÂàÜ„Çí", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Åã„Åè", kanji: "ÊØîËºÉ", reading: "„Å≤„Åã„Åè", before: "‰∫å„Å§„ÅÆÊÑèË¶ã„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åü„ÅÑ„Å≤", kanji: "ÂØæÊØî", reading: "„Åü„ÅÑ„Å≤", before: "‰∫å„Å§„ÅÆÊñáÁ´†„Çí", after: "„Åó„Å¶Ë™≠„ÇÄ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åõ„ÅÑ„Åò", kanji: "ÊîøÊ≤ª", reading: "„Åõ„ÅÑ„Åò", before: "", after: "„Å´Èñ¢ÂøÉ„Çí„ÇÇ„Å§„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Åè„Åõ„ÅÑ", kanji: "ÂõΩÊîø", reading: "„Åì„Åè„Åõ„ÅÑ", before: "ÂõΩ„ÅÆ", after: "„ÇíÊîØ„Åà„Çã‰ªï‰∫ã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åõ„ÅÑ„Åï„Åè", kanji: "ÊîøÁ≠ñ", reading: "„Åõ„ÅÑ„Åï„Åè", before: "Êñ∞„Åó„ÅÑ", after: "„ÇíËÄÉ„Åà„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åç„Çá„ÅÜ„Åø", kanji: "ËààÂë≥", reading: "„Åç„Çá„ÅÜ„Åø", before: "„Åù„ÅÆË©±„Å´", after: "„Åå„Çè„ÅÑ„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åµ„Å£„Åì„ÅÜ", kanji: "Âæ©Ëàà", reading: "„Åµ„Å£„Åì„ÅÜ", before: "Áî∫„ÅØÁÅΩÂÆ≥„Åã„ÇâÂ∞ë„Åó„Åö„Å§", after: "„Åó„Å¶„ÅÑ„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åä„Åì„Çã", kanji: "Ëàà„Çã", reading: "„Åä„Åì„Çã", before: "Êñ∞„Åó„ÅÑÊñáÂåñ„Åå", after: "„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åó„ÇÅ„Åô", kanji: "Á§∫„Åô", reading: "„Åó„ÇÅ„Åô", before: "‰æã„Çí", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„Åò", kanji: "ÊåáÁ§∫", reading: "„Åó„Åò", before: "ÂÖàÁîü„ÅÆ", after: "„Çí„Çà„ÅèËÅû„Åè„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Çá„ÅÜ„Åò", kanji: "Ë°®Á§∫", reading: "„Å≤„Çá„ÅÜ„Åò", before: "ÁîªÈù¢„Å´ÁµêÊûú„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„ÅØ„Çã", kanji: "Âºµ„Çã", reading: "„ÅØ„Çã", before: "È¢®Ëàπ„ÇíÂº∑„Åè", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„ÇÖ„Å°„Çá„ÅÜ", kanji: "‰∏ªÂºµ", reading: "„Åó„ÇÖ„Å°„Çá„ÅÜ", before: "Ëá™ÂàÜ„ÅÆËÄÉ„Åà„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„ÅØ„Çã", kanji: "Âºµ„Çã", reading: "„ÅØ„Çã", before: "Á∑äÂºµ„Åß‰Ωì„Åå„Åì„Çè„Å∞„Çä„ÄÅËÇ©„Åå", after: "„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åï„Åï„Åà„Çã", kanji: "ÊîØ„Åà„Çã", reading: "„Åï„Åï„Åà„Çã", before: "‰Ωì„Çí", after: "Âäõ„ÅåÂøÖË¶Å„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„Åà„Çì", kanji: "ÊîØÊè¥", reading: "„Åó„Åà„Çì", before: "ÂÆ∂Êóè„ÅÆÁîüÊ¥ª„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åï„Åï„Åà„Çã", kanji: "ÊîØ„Åà„Çã", reading: "„Åï„Åï„Åà„Çã", before: "Êú®„ÅÆÊûù„ÅåÈõ™„ÅÆÈáç„Åï„Çí", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Åò„Çì", kanji: "ÂÄã‰∫∫", reading: "„Åì„Åò„Çì", before: "„Åì„Çå„ÅØ", after: "„ÅÆÊÑèË¶ã„Åß„Åô„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Åü„ÅÑ", kanji: "ÂÄã‰Ωì", reading: "„Åì„Åü„ÅÑ", before: "ÂãïÁâ©„ÅÆ", after: "„ÇíË¶≥ÂØü„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„ÅÑ„Å£„Åì", kanji: "‰∏ÄÂÄã", reading: "„ÅÑ„Å£„Åì", before: "„Çä„Çì„Åî„Çí‰∏Ä", after: "È£ü„Åπ„Åü„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åæ„Çà„ÅÜ", kanji: "Ëø∑„ÅÜ", reading: "„Åæ„Çà„ÅÜ", before: "„Å©„Å°„Çâ„Å´„Åô„Çã„Åã", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åæ„ÅÑ„Åî", kanji: "Ëø∑Â≠ê", reading: "„Åæ„ÅÑ„Åî", before: "ÈÅì„Å´", after: "„Åå„ÅÑ„Åü„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åæ„Çà„ÅÜ", kanji: "Ëø∑„ÅÜ", reading: "„Åæ„Çà„ÅÜ", before: "ÈÄ≤„ÇÄÈÅì„Çí", after: "„Åì„Å®„ÇÇ„ÅÇ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åù„Çì„Åñ„ÅÑ", kanji: "Â≠òÂú®", reading: "„Åù„Çì„Åñ„ÅÑ", before: "„Åù„ÅÆËÄÉ„Åà„ÅØÁ§æ‰ºö„Å´", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åñ„ÅÑ„Åõ„Åç", kanji: "Âú®Á±ç", reading: "„Åñ„ÅÑ„Åõ„Åç", before: "ÂêçÁ∞ø„Åß", after: "„ÇíÁ¢∫Ë™ç„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åñ„ÅÑ„Åõ„Åç", kanji: "Âú®Á±ç", reading: "„Åñ„ÅÑ„Åõ„Åç", before: "ÂΩº„ÅØ‰ªä„ÇÇ‰ºö„Å´", after: "„Åó„Å¶„ÅÑ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å©„Åè„Åò", kanji: "Áã¨Ëá™", reading: "„Å©„Åè„Åò", before: "„Åì„Çå„ÅØ", after: "„ÅÆÊñπÊ≥ï„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å©„Åè„Çä„Å§", kanji: "Áã¨Á´ã", reading: "„Å©„Åè„Çä„Å§", before: "Â∞ÜÊù•„ÅØ‰∏Ä‰∫∫„Åß", after: "„Åó„Åü„ÅÑ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å©„Åè„Çä„Å§", kanji: "Áã¨Á´ã", reading: "„Å©„Åè„Çä„Å§", before: "‰ºöÁ§æ„Åã„Çâ", after: "„Åó„Å¶Â∫ó„ÇíÂá∫„Åô„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åπ„Çì„Å®„ÅÜ", kanji: "ÂºÅÂΩì", reading: "„Åπ„Çì„Å®„ÅÜ", before: "Êñ∞„Åó„ÅÑ", after: "„Å∞„Åì„ÇíË≤∑„Å£„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åπ„Çì„Å®„ÅÜ", kanji: "ÂºÅÂΩì", reading: "„Åπ„Çì„Å®„ÅÜ", before: "„ÅäÊòº„ÅØ", after: "„ÇíÈ£ü„Åπ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åπ„Çì„Åã„ÅÑ", kanji: "ÂºÅËß£", reading: "„Åπ„Çì„Åã„ÅÑ", before: "„Åù„ÅÆË™¨Êòé„ÅØ", after: "„Å†„Å®ÊÄù„ÅÜ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å¶„Çì„Åë„Çì", kanji: "ÁÇπÊ§ú", reading: "„Å¶„Çì„Åë„Çì", before: "Ëá™Ëª¢Ëªä„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åë„Çì„Åï", kanji: "Ê§úÊüª", reading: "„Åë„Çì„Åï", before: "ÂÆâÂÖ®„ÅÆ„Åü„ÇÅ„Å´", after: "„ÇíÂèó„Åë„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å¶„Çì„Åë„Çì", kanji: "ÁÇπÊ§ú", reading: "„Å¶„Çì„Åë„Çì", before: "‰∫ãÂâç„Å´Ê©üÊ¢∞„Çí", after: "„Åó„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å¶„ÅÑ„Åó„ÇÖ„Å§", kanji: "ÊèêÂá∫", reading: "„Å¶„ÅÑ„Åó„ÇÖ„Å§", before: "ÂÆøÈ°å„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å¶„ÅÑ„ÅÇ„Çì", kanji: "ÊèêÊ°à", reading: "„Å¶„ÅÑ„ÅÇ„Çì", before: "Êñ∞„Åó„ÅÑÊ°à„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å¶„ÅÑ„Åç„Çá„ÅÜ", kanji: "Êèê‰æõ", reading: "„Å¶„ÅÑ„Åç„Çá„ÅÜ", before: "Ë≥áÊñô„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åç„Åµ", kanji: "ÂØÑ‰ªò", reading: "„Åç„Åµ", before: "Êú¨„ÇíÂõ≥Êõ∏È§®„Å´", after: "„Åó„Åü„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Çà„Çã", kanji: "ÂØÑ„Çã", reading: "„Çà„Çã", before: "„Åù„Å∞„Å´", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åï„Çì„Åã", kanji: "ÂèÇÂä†", reading: "„Åï„Çì„Åã", before: "„Åî„ÅøÊãæ„ÅÑ„Å´", after: "„Åó„Å¶ÂçîÂäõ„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„ÅÇ„Åæ„Çã", kanji: "‰Ωô„Çã", reading: "„ÅÇ„Åæ„Çã", before: "ÊñôÁêÜ„ÅåÂ∞ë„Åó", after: "„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åª„Å®„Åë", kanji: "‰ªè", reading: "„Åª„Å®„Åë", before: "", after: "„ÅÆÊïô„Åà„ÇíÂ≠¶„Å∂„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å†„ÅÑ„Å∂„Å§", kanji: "Â§ß‰ªè", reading: "„Å†„ÅÑ„Å∂„Å§", before: "Â•àËâØ„ÅÆ", after: "„ÇíË¶ã„Å´Ë°å„Åè„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å∂„Å£„Åç„Çá„ÅÜ", kanji: "‰ªèÊïô", reading: "„Å∂„Å£„Åç„Çá„ÅÜ", before: "", after: "„Å´„Å§„ÅÑ„Å¶Ë™ø„Åπ„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åã„Åô", kanji: "Ë≤∏„Åô", reading: "„Åã„Åô", before: "Âèã„Å†„Å°„Å´Êú¨„Çí", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åã„Åó„Å†„Åó", kanji: "Ë≤∏Âá∫", reading: "„Åã„Åó„Å†„Åó", before: "Âõ≥Êõ∏ÂÆ§„ÅßÊú¨„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åã„Åô", kanji: "Ë≤∏„Åô", reading: "„Åã„Åô", before: "„ÅäÈáë„Çí", after: "„Å®„Åç„ÅØÁ¥ÑÊùü„ÇíÊ±∫„ÇÅ„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åç„Åè", kanji: "Âäπ„Åè", reading: "„Åç„Åè", before: "„Åì„ÅÆËñ¨„ÅØ„Çà„Åè", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„ÇÜ„ÅÜ„Åì„ÅÜ", kanji: "ÊúâÂäπ", reading: "„ÇÜ„ÅÜ„Åì„ÅÜ", before: "„Åù„ÅÆÊñπÊ≥ï„ÅØÂÆâÂÖ®„Å´", after: "„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„ÅÜ„Åã", kanji: "ÂäπÊûú", reading: "„Åì„ÅÜ„Åã", before: "È¢®ÈÇ™„Å´", after: "„Åå„ÅÇ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åò„Çá„ÅÜ„Åë„Çì", kanji: "Êù°‰ª∂", reading: "„Åò„Çá„ÅÜ„Åë„Çì", before: "ÂèÇÂä†„ÅÆ", after: "„ÇíÁ¢∫„Åã„ÇÅ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åò„Çá„ÅÜ„Åë„Çì", kanji: "Êù°‰ª∂", reading: "„Åò„Çá„ÅÜ„Åë„Çì", before: "„Åì„ÅÆ‰ªï‰∫ã„ÅÆ", after: "„ÅØ‰∫å„Å§„ÅÇ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åò„Çá„ÅÜ„Åë„Çì", kanji: "Êù°‰ª∂", reading: "„Åò„Çá„ÅÜ„Åë„Çì", before: "", after: "„ÇíÊ∫Ä„Åü„Åô‰∫∫„Å†„Åë„ÅåÂèÇÂä†„Åß„Åç„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åü„ÇÇ„Å§", kanji: "‰øù„Å§", reading: "„Åü„ÇÇ„Å§", before: "ÂÅ•Â∫∑„Çí", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åª„Åû„Çì", kanji: "‰øùÂ≠ò", reading: "„Åª„Åû„Çì", before: "Â§ßÂàá„Å™Ë≥áÊñô„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åª„Åä„Çì", kanji: "‰øùÊ∏©", reading: "„Åª„Åä„Çì", before: "‰ΩìÊ∏©„Åå‰∏ã„Åå„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Çá„ÅÜ„Åã", kanji: "Ë©ï‰æ°", reading: "„Å≤„Çá„ÅÜ„Åã", before: "‰ΩúÂìÅ„ÅÆ‰æ°ÂÄ§„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Çá„ÅÜ„Åã", kanji: "Ë©ï‰æ°", reading: "„Å≤„Çá„ÅÜ„Åã", before: "Ëá™ÂàÜ„ÅÆËÄÉ„Åà„Çí", after: "„ÅóÁõ¥„Åô„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Çá„ÅÜ„Åã", kanji: "Ë©ï‰æ°", reading: "„Å≤„Çá„ÅÜ„Åã", before: "„ÉÜ„Çπ„Éà„ÅÆÁµêÊûú„ÇíÊ≠£„Åó„Åè", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åï„Çì„Åõ„ÅÑ", kanji: "Ë≥õÊàê", reading: "„Åï„Çì„Åõ„ÅÑ", before: "„Åù„ÅÆÊÑèË¶ã„Å´", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„Çá„ÅÜ„Åï„Çì", kanji: "Ë≥ûË≥õ", reading: "„Åó„Çá„ÅÜ„Åï„Çì", before: "„Åø„Çì„Å™„ÅÆÂä™Âäõ„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åï„Çì„Å©„ÅÜ", kanji: "Ë≥õÂêå", reading: "„Åï„Çì„Å©„ÅÜ", before: "Êñ∞„Åó„ÅÑËÄÉ„Åà„Å´", after: "„ÅåÈõÜ„Åæ„Å£„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å§„Åæ", kanji: "Â¶ª", reading: "„Å§„Åæ", before: "ÂΩº„ÅÆ", after: "„Å®‰ºö„Å£„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åµ„ÅÜ„Åµ", kanji: "Â§´Â©¶", reading: "„Åµ„ÅÜ„Åµ", before: "", after: "„ÅåË≤∑„ÅÑÁâ©„Å´Êù•„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å§„Åæ", kanji: "Â¶ª", reading: "„Å§„Åæ", before: "", after: "„Å´ÊÑüË¨ù„ÅÆË®ÄËëâ„Çí‰ºù„Åà„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Çì„Åñ„Å§", kanji: "Ê∑∑Èõë", reading: "„Åì„Çì„Åñ„Å§", before: "ÈßÖÂâç„Åå", after: "„Åó„Å¶„ÅÑ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Çì„Åñ„Å§", kanji: "Ê∑∑Èõë", reading: "„Åì„Çì„Åñ„Å§", before: "Êúù„ÅÆÈõªËªä„ÅØ„Å®„Å¶„ÇÇ", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Çì„Åñ„Å§", kanji: "Ê∑∑Èõë", reading: "„Åì„Çì„Åñ„Å§", before: "ÈÅì„Åå", after: "„Åó„Å™„ÅÑÊôÇÈñì„Å´Âá∫„Åã„Åë„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„Çá„ÅÜ„Çä„ÇÉ„Åè", kanji: "ÁúÅÁï•", reading: "„Åó„Çá„ÅÜ„Çä„ÇÉ„Åè", before: "Èï∑„ÅÑË™¨Êòé„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Çä„ÇÉ„Åè„Åô", kanji: "Áï•„Åô", reading: "„Çä„ÇÉ„Åè„Åô", before: "‰æãÊñá„ÇíÁü≠„Åè", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Çä„ÇÉ„Åè„Åö", kanji: "Áï•Âõ≥", reading: "„Çä„ÇÉ„Åè„Åö", before: "Âú∞Âõ≥„Çí", after: "„ÅßË°®„Åô„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åï„ÅÑ„Åó„ÇÖ„ÅÜ", kanji: "Êé°ÈõÜ", reading: "„Åï„ÅÑ„Åó„ÇÖ„ÅÜ", before: "Ê§çÁâ©„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åï„ÅÑ„Çà„ÅÜ", kanji: "Êé°Áî®", reading: "„Åï„ÅÑ„Çà„ÅÜ", before: "Êñ∞„Åó„ÅÑ‰∫∫„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åï„ÅÑ„Åó„ÇÖ„ÅÜ", kanji: "Êé°ÈõÜ", reading: "„Åï„ÅÑ„Åó„ÇÖ„ÅÜ", before: "Êµ∑„ÅÆÁîü„ÅçÁâ©„Çí", after: "„Åó„Å¶Ë™ø„Åπ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åç„Çì„Åó", kanji: "Á¶ÅÊ≠¢", reading: "„Åç„Çì„Åó", before: "„Åì„Åì„ÅØÁ´ã„Å°ÂÖ•„Çä", after: "„Åß„Åô„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åç„Çì„Åó", kanji: "Á¶ÅÊ≠¢", reading: "„Åç„Çì„Åó", before: "ÊíÆÂΩ±", after: "„ÅÆÂ†¥ÊâÄ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åç„Çì„Åó", kanji: "Á¶ÅÊ≠¢", reading: "„Åç„Çì„Åó", before: "Âç±Èô∫„Å™„ÅÆ„Åß‰ΩøÁî®„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„ÅÆ„ÅÜ„Çä„Çá„Åè", kanji: "ËÉΩÂäõ", reading: "„ÅÆ„ÅÜ„Çä„Çá„Åè", before: "Ëá™ÂàÜ„ÅÆ", after: "„Çí„ÅÆ„Å∞„Åô„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åã„ÅÆ„ÅÜ", kanji: "ÂèØËÉΩ", reading: "„Åã„ÅÆ„ÅÜ", before: "„Åù„ÅÆË®àÁîª„ÅØÂÆüË°å", after: "„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åç„ÅÆ„ÅÜ", kanji: "Ê©üËÉΩ", reading: "„Åç„ÅÆ„ÅÜ", before: "Ê©üÊ¢∞„ÅÆ", after: "„ÇíË™ø„Åπ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„ÇÜ„ÅÜ„ÅÆ„ÅÜ", kanji: "ÊúâËÉΩ", reading: "„ÇÜ„ÅÜ„ÅÆ„ÅÜ", before: "ÂΩº„ÅØ„Å®„Å¶„ÇÇ", after: "„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Çà„ÅÜ„Åë„Çì", kanji: "Áî®‰ª∂", reading: "„Çà„ÅÜ„Åë„Çì", before: "ÂÖàÁîü„Å´", after: "„Çí‰ºù„Åà„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åò„Åë„Çì", kanji: "‰∫ã‰ª∂", reading: "„Åò„Åë„Çì", before: "„Åù„ÅÆ", after: "„ÅØ„Éã„É•„Éº„Çπ„Å´„Å™„Å£„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åë„Çì„ÇÅ„ÅÑ", kanji: "‰ª∂Âêç", reading: "„Åë„Çì„ÇÅ„ÅÑ", before: "„É°„Éº„É´„ÅÆ", after: "„ÇíÂàÜ„Åã„Çä„ÇÑ„Åô„Åè„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åë„Çì", kanji: "‰ª∂", reading: "„Åë„Çì", before: "„Åì„ÅÆ‰ªï‰∫ã„ÅØ‰∏Ä", after: "ËêΩÁùÄ„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åü„ÅÑ„Çä„Å§", kanji: "ÂØæÁ´ã", reading: "„Åü„ÅÑ„Çä„Å§", before: "ÊÑèË¶ã„Åå", after: "„Åó„Å¶„Åè„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åü„ÅÑ„Åó„Çá„ÅÜ", kanji: "ÂØæË±°", reading: "„Åü„ÅÑ„Åó„Çá„ÅÜ", before: "Ë©±„ÅóÂêà„ÅÑ„ÅÆ", after: "„ÇíÊ±∫„ÇÅ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åü„ÅÑ„Å≤", kanji: "ÂØæÊØî", reading: "„Åü„ÅÑ„Å≤", before: "‰∫å„Å§„ÅÆËÄÉ„Åà„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Çà„ÅÜ„Åô", kanji: "ÊßòÂ≠ê", reading: "„Çà„ÅÜ„Åô", before: "„Åë„Åå‰∫∫„ÅÆ", after: "„ÇíË¶ã„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Çà„ÅÜ„Åó„Åç", kanji: "ÊßòÂºè", reading: "„Çà„ÅÜ„Åó„Åç", before: "Âºè„ÅÆ", after: "„ÇíÊï¥„Åà„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„ÅÇ„Çâ„Åù„ÅÜ", kanji: "‰∫â„ÅÜ", reading: "„ÅÇ„Çâ„Åù„ÅÜ", before: "Âèã„Å†„Å°„Å®", after: "„Åì„Å®„Åå„ÅÇ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„ÅÇ„Çâ„Åù„ÅÑ", kanji: "‰∫â„ÅÑ", reading: "„ÅÇ„Çâ„Åù„ÅÑ", before: "Â∞è„Åï„Å™", after: "„Åß„ÇÇÊó©„ÅèÊ≠¢„ÇÅ„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„ÅØ„Çì„Åà„ÅÑ", kanji: "ÁπÅÊ†Ñ", reading: "„ÅØ„Çì„Åà„ÅÑ", before: "Áî∫„Åå„ÇÇ„Å£„Å®", after: "„Åô„Çã„Å®„Çà„ÅÑ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åà„ÅÑ„Çà„ÅÜ", kanji: "Ê†ÑÈ§ä", reading: "„Åà„ÅÑ„Çà„ÅÜ", before: "ÊúùÈ£ü„Åß", after: "„Çí„Å®„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åà„ÅÑ„Åì„ÅÜ", kanji: "Ê†ÑÂÖâ", reading: "„Åà„ÅÑ„Åì„ÅÜ", before: "ÂãùÂà©„ÅÆ", after: "„Çí„Åü„Åü„Åà„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åï„Åã„Åà„Çã", kanji: "Ê†Ñ„Åà„Çã", reading: "„Åï„Åã„Åà„Çã", before: "Áî∫„Åå„Åï„Çâ„Å´", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å∏„ÅÑ„Çè", kanji: "Âπ≥Âíå", reading: "„Å∏„ÅÑ„Çè", before: "‰∏ñÁïå„ÅÆ", after: "„ÇíÈ°ò„ÅÜ„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Çè", kanji: "Âíå", reading: "„Çè", before: "Âèã„Å†„Å°„Å®„ÅÆ", after: "„ÇíÂ§ßÂàá„Å´„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å™„Åî„ÇÑ„Åã", kanji: "Âíå„ÇÑ„Åã", reading: "„Å™„Åî„ÇÑ„Åã", before: "ÊïôÂÆ§„Åå", after: "„Å™Èõ∞Âõ≤Ê∞ó„Å´„Å™„Å£„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Çè„Åó„Çá„Åè", kanji: "ÂíåÈ£ü", reading: "„Çè„Åó„Çá„Åè", before: "Áµ¶È£ü„Å´", after: "„ÅåÂá∫„Åü„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Çè„Åó„Å§", kanji: "ÂíåÂÆ§", reading: "„Çè„Åó„Å§", before: "ÊóÖÈ§®„ÅÆ", after: "„Åß‰ºë„ÇÄ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„Åò", kanji: "ÊåáÁ§∫", reading: "„Åó„Åò", before: "ÂÖàÁîü„ÅÆ", after: "„Å´„Åó„Åü„Åå„ÅÜ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Çá„ÅÜ„Åò", kanji: "Ë°®Á§∫", reading: "„Å≤„Çá„ÅÜ„Åò", before: "ÁîªÈù¢„Å´ÁµêÊûú„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åó„ÇÅ„Åô", kanji: "Á§∫„Åô", reading: "„Åó„ÇÅ„Åô", before: "‰æã„Çí", after: "„Å®ÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„ÅØ„Çã", kanji: "Âºµ„Çã", reading: "„ÅØ„Çã", before: "È¢®Ëàπ„ÇíÂº∑„Åè", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„ÇÖ„Å°„Çá„ÅÜ", kanji: "‰∏ªÂºµ", reading: "„Åó„ÇÖ„Å°„Çá„ÅÜ", before: "Ëá™ÂàÜ„ÅÆËÄÉ„Åà„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åï„Åï„Åà„Çã", kanji: "ÊîØ„Åà„Çã", reading: "„Åï„Åï„Åà„Çã", before: "‰Ωì„Çí", after: "Á≠ãËÇâ„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åó„Åà„Çì", kanji: "ÊîØÊè¥", reading: "„Åó„Åà„Çì", before: "Âõ∞„Å£„Å¶„ÅÑ„Çã‰∫∫„Çí", after: "„Åô„Çã„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Åò„Çì", kanji: "ÂÄã‰∫∫", reading: "„Åì„Åò„Çì", before: "„Åì„Çå„ÅØ", after: "„ÅÆËÄÉ„Åà„Å†„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Åì„Åü„ÅÑ", kanji: "ÂÄã‰Ωì", reading: "„Åì„Åü„ÅÑ", before: "ÂãïÁâ©„ÅÆ", after: "Êï∞„ÇíË™ø„Åπ„Çã„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åì", kanji: "ÂÄã", reading: "„Åì", before: "„Åø„Åã„Çì„Çí‰∏â", after: "Ë≤∑„Å£„Åü„ÄÇ" },
      { type: "‰æãÊñá", hiragana: "„Åæ„Çà„ÅÜ", kanji: "Ëø∑„ÅÜ", reading: "„Åæ„Çà„ÅÜ", before: "„Å©„Å°„Çâ„Å´„Åô„Çã„Åã", after: "„ÄÇ" },
      { type: "ÁÜüË™û", hiragana: "„Å≤„Çá„ÅÜ„Åã", kanji: "Ë©ï‰æ°", reading: "„Å≤„Çá„ÅÜ„Åã", before: "„Åù„ÅÆËÄÉ„Åà„ÅåÊ≠£„Åó„ÅÑ„Åã", after: "„Åô„Çã„ÄÇ" },
    ];

    let selectedQuestions = [];
    let totalQuestions = 0;

    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    function startQuiz(numQuestions) {
      totalQuestions = numQuestions;
      selectedQuestions = shuffleArray(questionBank).slice(0, numQuestions);
      
      document.getElementById('selection-screen').style.display = 'none';
      document.getElementById('quiz-screen').classList.add('active');
      
      renderQuestions();
      updateProgress();
    }

    function renderQuestions() {
      const container = document.getElementById('questions-container');
      container.innerHTML = '';

      selectedQuestions.forEach((q, index) => {
        const card = document.createElement('div');
        card.className = 'question-card';
        
        const questionText = `${q.before}<span class="hiragana">${q.hiragana}</span>${q.after}`;

        card.innerHTML = `
          <span class="question-number">ÂïèÈ°å${index + 1}</span>
          <span class="question-type">${q.type}ÂïèÈ°å</span>
          <div class="question-text">${questionText}</div>
          <div class="note-hint">
            <strong>üìù „Éé„Éº„Éà„Å´Êõ∏„ÅÑ„Å¶„Åø„Çà„ÅÜÔºÅ</strong>
          </div>
          <div class="answer-section">
            <button class="check-button" onclick="toggleAnswer('answer${index}')">
              <span class="check-button-text">${defaultConfig.check_button_text}</span>
            </button>
            <div id="answer${index}" class="answer-content">
              <div class="answer-label">‚úì Ê≠£Ëß£</div>
              <div class="answer-text">${q.kanji}</div>
              <div class="reading">${q.reading}</div>
            </div>
          </div>
        `;
        
        container.appendChild(card);
      });

      updateConfigStyles();
    }

    function toggleAnswer(answerId) {
      const answerElement = document.getElementById(answerId);
      answerElement.classList.toggle('show');
      updateProgress();
    }

    function updateProgress() {
      const answeredCount = document.querySelectorAll('.answer-content.show').length;
      const percentage = (answeredCount / totalQuestions) * 100;
      
      document.getElementById('progress-text').textContent = `Á¢∫Ë™çÊ∏à„Åø ${answeredCount} / ${totalQuestions}`;
      document.getElementById('progress-fill').style.width = `${percentage}%`;
    }

    function resetQuiz() {
      document.getElementById('selection-screen').style.display = 'block';
      document.getElementById('quiz-screen').classList.remove('active');
      document.getElementById('questions-container').innerHTML = '';
      selectedQuestions = [];
      totalQuestions = 0;
    }

    function updateConfigStyles() {
      if (!window.elementSdk || !window.elementSdk.config) return;
      
      const config = window.elementSdk.config;
      const primaryColor = config.primary_color || defaultConfig.primary_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const successColor = config.success_color || defaultConfig.success_color;
      const checkButtonText = config.check_button_text || defaultConfig.check_button_text;

      const questionNumbers = document.querySelectorAll('.question-number');
      questionNumbers.forEach(el => {
        el.style.background = primaryColor;
      });

      const questionTypes = document.querySelectorAll('.question-type');
      questionTypes.forEach(el => {
        el.style.background = accentColor;
      });

      const checkButtons = document.querySelectorAll('.check-button');
      checkButtons.forEach(el => {
        el.style.background = primaryColor;
        el.style.boxShadow = `0 4px 6px ${primaryColor}4D`;
      });

      const checkButtonTexts = document.querySelectorAll('.check-button-text');
      checkButtonTexts.forEach(el => {
        el.textContent = checkButtonText;
      });

      const questionTexts = document.querySelectorAll('.question-text');
      questionTexts.forEach(el => {
        el.style.color = textColor;
      });

      const answerContents = document.querySelectorAll('.answer-content');
      answerContents.forEach(el => {
        el.style.borderLeftColor = successColor;
      });

      const answerLabels = document.querySelectorAll('.answer-label');
      answerLabels.forEach(el => {
        el.style.color = successColor;
      });
    }

    async function onConfigChange(config) {
      const appTitle = config.app_title || defaultConfig.app_title;
      const checkButtonText = config.check_button_text || defaultConfig.check_button_text;
      const primaryColor = config.primary_color || defaultConfig.primary_color;
      const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const successColor = config.success_color || defaultConfig.success_color;

      document.getElementById('app-title').textContent = appTitle;
      
      document.querySelector('.app-wrapper').style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
      
      const numberButtons = document.querySelectorAll('.number-button');
      numberButtons.forEach(el => {
        el.style.background = primaryColor;
        el.style.boxShadow = `0 4px 12px ${primaryColor}4D`;
      });

      updateConfigStyles();
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              config.secondary_color = value;
              window.elementSdk.setConfig({ secondary_color: value });
            }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => {
              config.accent_color = value;
              window.elementSdk.setConfig({ accent_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => config.success_color || defaultConfig.success_color,
            set: (value) => {
              config.success_color = value;
              window.elementSdk.setConfig({ success_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["app_title", config.app_title || defaultConfig.app_title],
        ["check_button_text", config.check_button_text || defaultConfig.check_button_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ab5fe1a54feb118',t:'MTc2NTI5ODkzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
